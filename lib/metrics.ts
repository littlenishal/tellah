export interface MetricInterpretation {
  label: string;
  variant: 'default' | 'secondary' | 'destructive' | 'outline';
  message: string;
  actionable?: string;
}

export function interpretSuccessRate(successRate: number): MetricInterpretation {
  if (successRate >= 0.8) {
    return {
      label: 'Excellent',
      variant: 'default',
      message: 'Your AI is performing well!',
    };
  } else if (successRate >= 0.6) {
    return {
      label: 'Good',
      variant: 'secondary',
      message: 'Good performance with room for improvement.',
      actionable: 'Review the quality criteria below to identify areas for refinement.',
    };
  } else if (successRate >= 0.4) {
    return {
      label: 'Needs Attention',
      variant: 'outline',
      message: 'Success rate is below target.',
      actionable: 'Consider refining your system prompt based on the criteria and recommendations below.',
    };
  } else {
    return {
      label: 'Critical',
      variant: 'destructive',
      message: 'Low success rate indicates significant quality issues.',
      actionable: 'Review your system prompt, model choice, and temperature settings. Use the recommendations below as a guide.',
    };
  }
}

export function interpretConfidence(confidenceScore: number, ratedCount: number): MetricInterpretation {
  if (confidenceScore >= 0.8) {
    return {
      label: 'High Confidence',
      variant: 'default',
      message: `Based on ${ratedCount} ratings, these patterns are reliable.`,
    };
  } else if (confidenceScore >= 0.5) {
    return {
      label: 'Moderate Confidence',
      variant: 'secondary',
      message: `Based on ${ratedCount} ratings.`,
      actionable: 'Add 5-10 more ratings to increase pattern confidence.',
    };
  } else {
    return {
      label: 'Low Confidence',
      variant: 'outline',
      message: `Only ${ratedCount} ratings analyzed.`,
      actionable: 'Rate at least 10 outputs for reliable pattern extraction.',
    };
  }
}
